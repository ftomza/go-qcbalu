### Модель представления данных wallet
```json5
{
    "id": "89fa0812-bbe7-434d-8e4c-a0c581f09d0b", // Уникальный идентификатор в формате UUID, первичный ключ 
    "user_id": "89fa0812-bbe7-434d-8e4c-a0c581f09d0b", // Уникальный идентификатор пользователя в формате UUID, уникальный индекс
    "balance": 0, // Баланс пользователя
    "lock": true, // Флаг блокировки
    "create_at": "2020-01-01T01:01:01Z", // Время создания записи
    "update_at": "2020-01-01T01:01:01Z", // Время обновления записи
    "version": "AFGCSKIEMSAJD", // Версия данных 
}
```

### Модель хранения данных wallet
```json5
{
    "id": "89fa0812-bbe7-434d-8e4c-a0c581f09d0b", // Уникальный идентификатор в формате UUID, первичный ключ 
    "user_id": "89fa0812-bbe7-434d-8e4c-a0c581f09d0b", // Уникальный идентификатор пользователя в формате UUID, уникальный индекс
    "balance": 0, // Баланс пользователя
    "lock": true, // Флаг блокировки
    "create_at": "2020-01-01T01:01:01Z", // Время создания записи
    "update_at": "2020-01-01T01:01:01Z", // Время обновления записи
    "version": "AFGCSKIEMSAJD", // Версия данных 
}
```

### Основные методы Transaction

- `Begin() trans` - Начать транзакцию
- `Commit(trans)` - Применить транзакцию
- `Rollback(trans)` - Откатить транзакцию


### Основные методы wallet

- `AddByUserId(userId, sum) item` - Добавить данные пользователя с первоначальным балансом, возврат записи
- `DelByUserId(userId)` - Удалить данные пользователя. Без проверки на существование записи
- `GetByUserId(userId) item` - Получить данные пользователя
- `DebtBalanceByUserId(userId, sum)` - Списать с баланса пользователя
- `CredBalanceByUserId(userId, sum)` - Зачислить на баланс пользователя
- `LockByUserId(userId)` - Заблокировать данные пользователя
- `UnlockByUserId(userId)` - Разблокировать данные пользователя

### Основные методы хранилища wallet

- `Store(item)` - Добавить данные кошелька
- `DeleteByUserId(userId)` - Удалить кошелек пользователя.
- `GetByUserId(userId) item` - Получить данные кошелька по пользователю
- `Update(item)` - Обновить данные кошелька
- `GetTransaction()` - Получить контекст для выполнения транзакций


### Основные ошибки wallet

- `ErrIsExist` - Данные уже существуют
- `ErrBadRequest` - Некорректны данные ввода
- `ErrNotFound` - Данные не найдены
- `ErrInsufficientFunds` - Недостаточно средств на балансе пользователя для совершения операции
- `ErrLocked` - Данные пользователя заблокирован для совершения операции
- `ErrVersionIsNotValid` - Версия данных пользователя не валидная для завершения операции